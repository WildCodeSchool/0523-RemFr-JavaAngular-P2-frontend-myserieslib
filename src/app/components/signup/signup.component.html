
<form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
  <mat-form-field>
    <mat-label>Nom d'utilisateur</mat-label>
    <input matInput type="text" formControlName="username" />
    <mat-error
      *ngIf="
        signUpForm.get('username')?.invalid &&
        (signUpForm.get('username')?.dirty || signUpForm.get('username')?.touched)
      "
    >
      <div *ngIf="signUpForm.get('username')?.hasError('required')">Saisissez votre nom d'utilisateur</div>
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Email</mat-label>
    <input matInput type="text" formControlName="email" />
    <mat-error
      *ngIf="signUpForm.get('email')?.invalid && (signUpForm.get('email')?.dirty || signUpForm.get('email')?.touched)"
    >
      <div *ngIf="signUpForm.get('email')?.hasError('required')">Email requis</div>
      <div *ngIf="signUpForm.get('email')?.hasError('email')">Format d'email invalide</div>
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Mot de passe</mat-label>
    <input matInput type="password" formControlName="password" />
    <mat-error
      *ngIf="
        signUpForm.get('password')?.invalid &&
        (signUpForm.get('password')?.dirty || signUpForm.get('password')?.touched)
      "
    >
      <div *ngIf="signUpForm.get('password')?.hasError('required')">Mot de passe requis</div>
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Confirmer mot de passe</mat-label>
    <input matInput type="password" formControlName="confirmPassword" />
    <mat-error
      *ngIf="
        signUpForm.get('confirmPassword')?.invalid &&
        (signUpForm.get('confirmPassword')?.dirty || signUpForm.get('confirmPassword')?.touched)
      "
    >
      <div *ngIf="signUpForm.get('confirmPassword')?.hasError('required')">Vous devez confirmer votre mot de passe</div>
    </mat-error>
  </mat-form-field>

  <button mat-raised-button color="primary" type="submit" [disabled]="!signUpForm.valid">S'inscrire</button>

  <div class="login-link">
    <p>Vous avez déjà un compte ?</p>
    <a [routerLink]="['/login']">Connectez-vous ici</a>
  </div>
</form>
